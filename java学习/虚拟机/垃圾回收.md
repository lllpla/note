# 垃圾回收
## 1.为什么要进行垃圾回收？ 

随着程序的运行，内存中存在的实例对象、变量等信息占据的内存越来越多，如果不及时进行垃圾回收，必然会带来程序性能的下降，甚至会因为可用内存不足造成一些不必要的系统异常。 

## 2.哪些垃圾需要被回收？ 

内存中的五大区中，3个区域是不需要进行垃圾回收的：程序计数器、JVM栈、本地方法栈。因为他们的生命周期和线程同步的，随着线程的销毁，他们占用的内存会自动释放，所以只有方法区和堆需要进行GC。具体到哪些对象的话，简单概括一句话：**如果某个对象已经不存在任何引用，那么它可以被回收。**通俗解释一下，如果一个对象，已经没有任何作用力，就可以被当作废弃物回收。 

## 3.什么时候进行垃圾回收？ 

    根据一个经典的引用计数算法，每个对象添加一个引用计数器，每被引用一次，计数器加1，失去引用，计数器减1，当计数器在一段时间内保持为0，该对象就认为是可以被回收的了。但是这个算法有明显的缺陷：当两个对象相互引用，但是二者已经没有作用时，按照常规，应该对其进行垃圾回收，但其相互作用，又不符合垃圾回收的条件，因此无法完美处理这块儿内存清理，因此Sun的JVM并没有采用引用计数法来进行垃圾回收。而是采用一种叫：根搜索算法，如下图： 